
<div class="portada relative w-full h-48 bg-cover bg-center bg-gray-300" [style.backgroundImage]="'url(' + portada_url + ')'">
    <!-- Contenedor de íconos en la esquina inferior izquierda -->
    <div class="flex w-full justify-between absolute bottom-4 px-4 space-x-4">
        <div class="flex gap-4">
            <button [routerLink]="['/grass/cuentas']" routerLinkActive="text-forestGreen-500 bg-forestGreen-300" class="py-1 flex gap-1.5 items-center px-2  bg-white rounded-full shadow-lg transition hover:bg-gray-100">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M0 6.00195C0 5.2063 0.316071 4.44324 0.87868 3.88063C1.44129 3.31802 2.20435 3.00195 3 3.00195H21C21.7956 3.00195 22.5587 3.31802 23.1213 3.88063C23.6839 4.44324 24 5.2063 24 6.00195V18.002C24 18.7976 23.6839 19.5607 23.1213 20.1233C22.5587 20.6859 21.7956 21.002 21 21.002H3C2.20435 21.002 1.44129 20.6859 0.87868 20.1233C0.316071 19.5607 0 18.7976 0 18.002V6.00195ZM3 4.50195C2.60218 4.50195 2.22064 4.65999 1.93934 4.94129C1.65804 5.2226 1.5 5.60413 1.5 6.00195V7.50195H22.5V6.00195C22.5 5.60413 22.342 5.2226 22.0607 4.94129C21.7794 4.65999 21.3978 4.50195 21 4.50195H3ZM22.5 10.502H1.5V18.002C1.5 18.3998 1.65804 18.7813 1.93934 19.0626C2.22064 19.3439 2.60218 19.502 3 19.502H21C21.3978 19.502 21.7794 19.3439 22.0607 19.0626C22.342 18.7813 22.5 18.3998 22.5 18.002V10.502Z" fill="#14A540"/>
                    <path d="M3 15.002C3 14.6041 3.15804 14.2226 3.43934 13.9413C3.72064 13.66 4.10218 13.502 4.5 13.502H6C6.39782 13.502 6.77936 13.66 7.06066 13.9413C7.34196 14.2226 7.5 14.6041 7.5 15.002V16.502C7.5 16.8998 7.34196 17.2813 7.06066 17.5626C6.77936 17.8439 6.39782 18.002 6 18.002H4.5C4.10218 18.002 3.72064 17.8439 3.43934 17.5626C3.15804 17.2813 3 16.8998 3 16.502V15.002Z" fill="#14A540"/>
                </svg>
                <p [ngClass]="{'block': router.isActive('/grass/cuentas',true),'hidden':!router.isActive('/grass/cuentas',true)}"  class="text-xs ">Cuentas</p>
            </button>
    
            <!-- Segundo ícono SVG -->
            <button [routerLink]="['/grass/reservaciones']"  class="py-1 flex gap-1.5 items-center px-2  bg-white rounded-full shadow-lg transition hover:bg-gray-100">
                <svg  width="24" height="24" viewBox="0 0 24 24"  xmlns="http://www.w3.org/2000/svg">
                    <g clip-path="url(#clip0_953_1386)">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M2.25 4.50195C1.65326 4.50195 1.08097 4.73901 0.65901 5.16096C0.237053 5.58292 0 6.15522 0 6.75195L0 9.00195C0 9.20087 0.0790176 9.39163 0.21967 9.53228C0.360322 9.67294 0.551088 9.75195 0.75 9.75195C1.34674 9.75195 1.91903 9.98901 2.34099 10.411C2.76295 10.8329 3 11.4052 3 12.002C3 12.5987 2.76295 13.171 2.34099 13.5929C1.91903 14.0149 1.34674 14.252 0.75 14.252C0.551088 14.252 0.360322 14.331 0.21967 14.4716C0.0790176 14.6123 0 14.803 0 15.002L0 17.252C0 17.8487 0.237053 18.421 0.65901 18.8429C1.08097 19.2649 1.65326 19.502 2.25 19.502H21.75C22.3467 19.502 22.919 19.2649 23.341 18.8429C23.7629 18.421 24 17.8487 24 17.252V15.002C24 14.803 23.921 14.6123 23.7803 14.4716C23.6397 14.331 23.4489 14.252 23.25 14.252C22.6533 14.252 22.081 14.0149 21.659 13.5929C21.2371 13.171 21 12.5987 21 12.002C21 11.4052 21.2371 10.8329 21.659 10.411C22.081 9.98901 22.6533 9.75195 23.25 9.75195C23.4489 9.75195 23.6397 9.67294 23.7803 9.53228C23.921 9.39163 24 9.20087 24 9.00195V6.75195C24 6.15522 23.7629 5.58292 23.341 5.16096C22.919 4.73901 22.3467 4.50195 21.75 4.50195H2.25ZM6 7.27695V8.62695H7.5V7.27695H6ZM16.5 7.27695V8.62695H18V7.27695H16.5ZM6 9.97695V11.327H7.5V9.97695H6ZM16.5 9.97695V11.327H18V9.97695H16.5ZM6 12.677V14.027H7.5V12.677H6ZM16.5 12.677V14.027H18V12.677H16.5ZM6 15.377V16.727H7.5V15.377H6ZM16.5 15.377V16.727H18V15.377H16.5Z" fill="#14A540"/>
                    </g>
                    <defs>
                        <clipPath id="clip0_953_1386">
                            <rect width="24" height="24"  transform="translate(0 0.501953)"/>
                        </clipPath>
                    </defs>
                </svg>
                <p [ngClass]="{'block': router.isActive('/grass/reservaciones',true),'hidden':!router.isActive('/grass/reservaciones',true)}"  class="text-xs ">Reservaciones</p>
            </button>

        </div>

        <button (click)="openModal()"  class="py-1 flex gap-1.5 items-center px-2  bg-white rounded-full shadow-lg transition hover:bg-gray-100">
            <p  class="text-xs ">Actualizar portada</p>
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M8.00072 9.96362L8.00072 2.00195M8.00072 2.00195L4.71232 5.04407M8.00072 2.00195L11.2891 5.04407M2.66675 12.6462V13.5904C2.93655 13.8539 3.30249 14.002 3.68405 14.002H12.3161C12.6977 14.002 13.0636 13.8539 13.3334 13.5904V12.6462" stroke="black" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                
        </button>


        <div id="uploadModal" tabindex="-1" aria-hidden="true" class="fixed top-0 left-0 right-0 z-50 hidden w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-[calc(100%-1rem)] max-h-full">
            <div class="relative w-full max-w-2xl max-h-full">
              <!-- Modal content -->
              <div class="relative bg-white rounded-lg shadow dark:bg-gray-700">
                <!-- Modal header -->
                <div class="flex items-start justify-between p-4 border-b rounded-t dark:border-gray-600">
                  <h3 class="text-xl font-semibold text-gray-900 dark:text-white">
                    Actualizar imagen de portada
                  </h3>
                  <button type="button"
                    class="text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ml-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white"
                    (click)="closeModal()">
                    <svg class="w-3 h-3" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
                      <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"/>
                    </svg>
                    <span class="sr-only">Cerrar modal</span>
                  </button>
                </div>
          
                <!-- Modal body -->
                <div class="p-6 space-y-6">
                  <!-- Área de subida de archivo cuando no hay imagen seleccionada -->
                  <div *ngIf="!show_image" class="flex items-center justify-center w-full">
                    <label for="dropzone-file" class="flex flex-col items-center justify-center w-full h-64 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 dark:hover:bg-bray-800 dark:bg-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:hover:border-gray-500 dark:hover:bg-gray-600">
                      <div class="flex flex-col items-center justify-center pt-5 pb-6">
                        <svg class="w-8 h-8 mb-4 text-gray-500 dark:text-gray-400" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 16">
                          <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"/>
                        </svg>
                        <p class="mb-2 text-sm text-gray-500 dark:text-gray-400">
                          <span class="font-semibold">Click para subir</span> o arrastra y suelta
                        </p>
                        <p class="text-xs text-gray-500 dark:text-gray-400">
                          PNG, JPG, WEBP (Máx. 20MB)
                        </p>
                      </div>
                      <input id="dropzone-file" 
                             type="file" 
                             class="hidden" 
                             (change)="fileChangeEventCrop($event)"
                             accept="image/*"/>
                    </label>
                  </div>
          
                  <!-- Image Cropper cuando hay una imagen seleccionada -->
                  <div *ngIf="show_image" class="space-y-4">
                    <div class="relative">
                      <image-cropper
                        [imageChangedEvent]="imageChangedEvent"
                        [maintainAspectRatio]="true"
                        [aspectRatio]="16/9"
                        format="png"
                        (imageCropped)="imageCropped($event)"
                        (imageLoaded)="imageLoaded($event)"
                        (cropperReady)="cropperReady()"
                        (loadImageFailed)="loadImageFailed()"
                        class="max-h-[400px]">
                      </image-cropper>
                    </div>
          
                    <!-- Vista previa de la imagen recortada -->
                    <div *ngIf="croppedImage" class="mt-4">
                      <h4 class="text-sm font-medium text-gray-900 dark:text-white mb-2">Vista previa:</h4>
                      <div class="relative w-full h-32 bg-gray-100 rounded-lg overflow-hidden">
                        <img [src]="croppedImage" class="w-full h-full object-cover" alt="Vista previa">
                      </div>
                    </div>
                  </div>
                </div>
          
                <!-- Modal footer -->
                <div class="flex items-center justify-end p-6 space-x-2 border-t border-gray-200 rounded-b dark:border-gray-600">
                  <button
                    type="button"
                    [disabled]="!file || load_btn"
                    (click)="subir_imagen()"
                    class="text-white bg-forestGreen-500 hover:bg-forestGreen-800 focus:ring-4 focus:outline-none focus:ring-forestGreen-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-forestGreen-600 dark:hover:bg-forestGreen-700 dark:focus:ring-forestGreen-800 disabled:opacity-50">
                    <span *ngIf="!load_btn">Subir imagen</span>
                    <span *ngIf="load_btn">Subiendo...</span>
                  </button>
                  <button
                    type="button"
                    (click)="closeModal()"
                    class="text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-forestGreen-300 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600">
                    Cancelar
                  </button>
                </div>
              </div>
            </div>
          </div>


      
    </div>
</div>
